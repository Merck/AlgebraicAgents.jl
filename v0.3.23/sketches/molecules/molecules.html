<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>A Toy Pharma Model · AlgebraicAgents.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../index.html">AlgebraicAgents.jl</a></span></div><form class="docs-search" action="../../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../index.html">API Documentation</a></li><li><a class="tocitem" href="../../design_mmd.html">Framework design</a></li><li><a class="tocitem" href="../../integrations.html">Integrations</a></li><li><span class="tocitem">Sketches</span><ul><li><a class="tocitem" href="../agents/agents.html">Agents.jl Integration</a></li><li class="is-active"><a class="tocitem" href="molecules.html">A Toy Pharma Model</a><ul class="internal"><li><a class="tocitem" href="#Agent-Types"><span>Agent Types</span></a></li><li><a class="tocitem" href="#Stepping-Functions"><span>Stepping Functions</span></a></li><li><a class="tocitem" href="#Model-Instantiation"><span>Model Instantiation</span></a></li><li><a class="tocitem" href="#Simulating-the-System"><span>Simulating the System</span></a></li><li><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li><li><a class="tocitem" href="#Queries"><span>Queries</span></a></li></ul></li><li><a class="tocitem" href="../sciml/sciml.html">SciML Integration</a></li><li><a class="tocitem" href="../algebraicdynamics/algebraicdynamics.html">Lotka-Voltera Two Ways</a></li><li><a class="tocitem" href="../stochastic_simulation/anderson.html">Simulating Stochastic Reaction Systems</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Sketches</a></li><li class="is-active"><a href="molecules.html">A Toy Pharma Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="molecules.html">A Toy Pharma Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Merck/AlgebraicAgents.jl/blob/main/tutorials/molecules/molecules.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="A-Toy-Pharma-Model"><a class="docs-heading-anchor" href="#A-Toy-Pharma-Model">A Toy Pharma Model</a><a id="A-Toy-Pharma-Model-1"></a><a class="docs-heading-anchor-permalink" href="#A-Toy-Pharma-Model" title="Permalink"></a></h1><p>We implement a toy pharma model. To that end, we have the following type hierarchy:</p><ul><li>overarching <strong>pharma model</strong> (represented by a <code>FreeAgent</code> span type),</li><li><strong>therapeutic area</strong> (represented by a <code>FreeAgent</code>),</li><li><strong>molecules</strong> (small, large - to demonstrate dynamic dispatch; alternatively, marketed drugs; a drug may drop out from the system),</li><li><strong>discovery unit</strong> (per therapeutic area); these generate new molecules according to a Poisson counting process,</li><li><strong>market demand</strong>; this will be represented by a stochastic differential equation implemented in <a href="https://github.com/SciML/DifferentialEquations.jl">DifferentialEquations.jl</a>.</li></ul><h2 id="Agent-Types"><a class="docs-heading-anchor" href="#Agent-Types">Agent Types</a><a id="Agent-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Agent-Types" title="Permalink"></a></h2><p>We define the type system and supply the stepping functions.</p><pre><code class="language-julia hljs">using AlgebraicAgents

using DataFrames
using Distributions, Random
using Plots

# type hierarchy
&quot;Drug entity, lives in a therapeutic area.&quot;
abstract type Molecule &lt;: AbstractAlgebraicAgent end

# molecule params granularity
const N = 3;

# drug entity, lives in a therapeutic area
&quot;Parametrized drug entity, lives in a therapeutic area.&quot;
@aagent FreeAgent Molecule struct SmallMolecule
    age::Float64
    birth_time::Float64
    time_removed::Float64

    mol::AbstractString
    profile::NTuple{N, Float64}

    sales::Float64
    df_sales::DataFrame
end</code></pre><p>Note the use of a conveniency macro <code>@aagent</code> which appends additional fields expected (not required, though) by default interface methods.</p><p>We proceed with other agent types.</p><pre><code class="language-julia hljs"># drug entity, lives in a therapeutic area
@doc (@doc SmallMolecule)
@aagent FreeAgent Molecule struct LargeMolecule
    age::Float64
    birth_time::Float64
    time_removed::Float64

    mol::AbstractString
    profile::NTuple{N, Float64}

    sales::Float64
    df_sales::DataFrame
end

# toy discovery unit - outputs small/large molecules to a given therapeutic area
&quot;Toy discovery unit; outputs small and large molecules.&quot;
@aagent struct Discovery
    rate_small::Float64
    rate_large::Float64
    discovery_intensity::Float64

    t::Float64
    dt::Float64

    t0::Float64

    removed_mols::Vector{Tuple{String, Float64}}

    df_output::DataFrame
end

# `Discovery` constructor
&quot;Initialize a discovery unit, parametrized by small/large molecules production rate.&quot;
function Discovery(name, rate_small, rate_large, t = 0.0; dt = 2.0)
    df_output = DataFrame(time = Float64[], small = Int[], large = Int[], removed = Int[])

    Discovery(name, rate_small, rate_large, 0.0, t, dt, t, Tuple{String, Float64}[],
              df_output)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.Discovery</code></pre><h2 id="Stepping-Functions"><a class="docs-heading-anchor" href="#Stepping-Functions">Stepping Functions</a><a id="Stepping-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Stepping-Functions" title="Permalink"></a></h2><p>Next we provide an evolutionary law for the agent types. This is done by extending the interface function <a href="../../index.html#AlgebraicAgents._step!-Tuple{AbstractAlgebraicAgent}"><code>AlgebraicAgents._step!</code></a>.</p><pre><code class="language-julia hljs"># Return initial sales volume of a molecule.
function sales0_from_params end

const sales0_factor_small = rand(N)
const sales0_factor_large = rand(N)

# dispatch on molecule type
sales0_from_params(profile) = 10^3 * (1 + collect(profile)&#39; * sales0_factor_small)
sales0_from_params(profile) = 10^5 * (1 + collect(profile)&#39; * sales0_factor_large)

const sales_decay_small = 0.9
const sales_decay_large = 0.7

# implement evolution
function AlgebraicAgents._step!(mol::SmallMolecule)
    t = projected_to(mol)
    push!(mol.df_sales, (t, mol.sales))
    mol.age += 1
    mol.sales *= sales_decay_small

    if (mol.sales &lt;= 10) || (rand() &gt;= exp(-0.2 * mol.age))
        mol.time_removed = t
        push!(getagent(mol, &quot;../dx&quot;).removed_mols, (mol.mol, t))

        # move to removed candidates
        rm_mols = getagent(mol, &quot;../removed-molecules&quot;)
        disentangle!(mol)
        entangle!(rm_mols, mol)
    end
end

# implement common interface&quot;
# molecules&quot;
function AlgebraicAgents._step!(mol::LargeMolecule)
    t = projected_to(mol)
    push!(mol.df_sales, (t, mol.sales))

    mol.age += 1
    mol.sales *= sales_decay_large

    if (mol.sales &lt;= 10) || (rand() &gt;= exp(-0.3 * mol.age))
        mol.time_removed = t
        push!(getagent(mol, &quot;../dx&quot;).removed_mols, (mol.mol, t))

        # move to removed candidates
        rm_mols = getagent(mol, &quot;../removed-molecules&quot;)
        disentangle!(mol)
        entangle!(rm_mols, mol)
    end
end

# discovery
function AlgebraicAgents._step!(dx::Discovery)
    t = projected_to(dx)
    # sync with market demand
    dx.discovery_intensity = getobservable(getagent(dx, &quot;../demand&quot;), &quot;demand&quot;)
    ν = dx.discovery_intensity * dx.dt
    small, large = rand(Poisson(ν * dx.rate_small)), rand(Poisson(ν * dx.rate_large))
    removeed = 0
    ix = 1
    while ix &lt;= length(dx.removed_mols)
        if (dx.removed_mols[ix][2] &lt; t)
            removeed += 1
            deleteat!(dx.removed_mols, ix)
        else
            ix += 1
        end
    end
    push!(dx.df_output, (t, small, large, removeed))

    for _ in 1:small
        mol = release_molecule(randstring(5), Tuple(rand(N)), t, SmallMolecule)
        entangle!(getparent(dx), mol)
    end

    for _ in 1:large
        mol = release_molecule(randstring(5), Tuple(rand(N)), t, LargeMolecule)
        entangle!(getparent(dx), mol)
    end

    dx.t += dx.dt
end

&quot;Initialize a new molecule.&quot;
function release_molecule(mol, profile, t, ::Type{T}) where {T &lt;: Molecule}
    T(mol, 0.0, t, Inf, mol, profile, sales0_from_params(profile),
      DataFrame(time = Float64[], sales = Float64[]))
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Main.release_molecule</code></pre><p>We provide additional interface methods, such as <a href="../../index.html#AlgebraicAgents._reinit!-Tuple{AbstractAlgebraicAgent}"><code>AlgebraicAgents._reinit!</code></a> and <a href="../../index.html#AlgebraicAgents._projected_to-Tuple{AbstractAlgebraicAgent}"><code>AlgebraicAgents._projected_to</code></a>.</p><pre><code class="language-julia hljs">AlgebraicAgents._reinit!(mol::Molecule) = disentangle!(mol)

function AlgebraicAgents._reinit!(dx::Discovery)
    dx.t = dx.t0
    dx.discovery_intensity = 0.0
    empty!(dx.df_output)

    dx
end

function AlgebraicAgents._projected_to(mol::Molecule)
    if mol.time_removed &lt; Inf
        # candidate removed, do not step further
        true
    else
        mol.age + mol.birth_time
    end
end

AlgebraicAgents._projected_to(dx::Discovery) = dx.t</code></pre><p>We may also provide a custom plotting recipe. As the internal log is modeled as a DataFrame, we want to use <a href="../../index.html#AlgebraicAgents.@draw_df"><code>AlgebraicAgents.@draw_df</code></a> convenience macro.</p><pre><code class="language-julia hljs"># implement plots
AlgebraicAgents.@draw_df Discovery df_output</code></pre><h2 id="Model-Instantiation"><a class="docs-heading-anchor" href="#Model-Instantiation">Model Instantiation</a><a id="Model-Instantiation-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Instantiation" title="Permalink"></a></h2><p>Next step is to instantiate a dynamical system.</p><pre><code class="language-julia hljs"># define therapeutic areas
therapeutic_area1 = FreeAgent(&quot;therapeutic_area1&quot;)
therapeutic_area2 = FreeAgent(&quot;therapeutic_area2&quot;)

# join therapeutic models into a pharma model
pharma_model = ⊕(therapeutic_area1, therapeutic_area2; name=&quot;pharma_model&quot;)

# initialize and push discovery units to therapeutic areas
# discovery units evolve at different pace
entangle!(therapeutic_area1, Discovery(&quot;dx&quot;, 5.2, 10.; dt=3.))
entangle!(therapeutic_area2, Discovery(&quot;dx&quot;, 6., 8.; dt=5.))
# log removed candidates
entangle!(therapeutic_area1, FreeAgent(&quot;removed-molecules&quot;))
entangle!(therapeutic_area2, FreeAgent(&quot;removed-molecules&quot;))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">agent <span class="sgr32"><span class="sgr1">removed-molecules </span></span>with uuid <span class="sgr32">f55d8d45 </span>of type <span class="sgr32">FreeAgent </span>
   <span class="sgr1">parent: </span><span class="sgr32">therapeutic_area2</span></code></pre><h3 id="Integration-with-SciML"><a class="docs-heading-anchor" href="#Integration-with-SciML">Integration with SciML</a><a id="Integration-with-SciML-1"></a><a class="docs-heading-anchor-permalink" href="#Integration-with-SciML" title="Permalink"></a></h3><p>Let&#39;s define toy market demand model and represent this as a stochastic differential equation defined in <code>DifferentialEquations.jl</code></p><pre><code class="language-julia hljs"># add SDE models for drug demand in respective areas
using DifferentialEquations

dt = 1//2^(4); tspan = (0.0,100.)
f(u,p,t) = p[1]*u; g(u,p,t) = p[2]*u

prob_1 = SDEProblem(f,g,.9,tspan,[.01, .01])
prob_2 = SDEProblem(f,g,1.2,tspan,[.01, .01])</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SDEProblem with uType Float64 and tType Float64. In-place: false
timespan: (0.0, 100.0)
u0: 1.2</code></pre><p>Internally, a discovery unit will adjust the candidate generating process intensity according to the observed market demand:</p><pre><code class="language-julia hljs"># add SDE models for drug demand in respective areas
demand_model_1 = DiffEqAgent(&quot;demand&quot;, prob_1, EM(); observables=Dict(&quot;demand&quot; =&gt; 1), dt)
demand_model_2 = DiffEqAgent(&quot;demand&quot;, prob_2, EM(); observables=Dict(&quot;demand&quot; =&gt; 1), dt)

# push market demand units to therapeutic areas
entangle!(therapeutic_area1, demand_model_1)
entangle!(therapeutic_area2, demand_model_2)

# sync with market demand
getobservable(getagent(pharma_model, &quot;therapeutic_area1/demand&quot;), &quot;demand&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.9</code></pre><p>Let&#39;s inspect the composite model:</p><pre><code class="language-julia hljs"># show the model
pharma_model</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">agent <span class="sgr32"><span class="sgr1">pharma_model </span></span>with uuid <span class="sgr32">37d2515f </span>of type <span class="sgr32">FreeAgent </span>
   <span class="sgr1">inner agents: </span>
    agent <span class="sgr32"><span class="sgr1">therapeutic_area1 </span></span>with uuid <span class="sgr32">3c3eb0f1 </span>of type <span class="sgr32">FreeAgent </span>
       <span class="sgr1">inner agents: </span>demand, dx, removed-molecules
    agent <span class="sgr32"><span class="sgr1">therapeutic_area2 </span></span>with uuid <span class="sgr32">702c9c37 </span>of type <span class="sgr32">FreeAgent </span>
       <span class="sgr1">inner agents: </span>demand, dx, removed-molecules</code></pre><pre><code class="language-julia hljs">getagent(pharma_model, glob&quot;therapeutic_area?/&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{FreeAgent}:
 FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}
 FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}</code></pre><h2 id="Simulating-the-System"><a class="docs-heading-anchor" href="#Simulating-the-System">Simulating the System</a><a id="Simulating-the-System-1"></a><a class="docs-heading-anchor-permalink" href="#Simulating-the-System" title="Permalink"></a></h2><p>Let&#39;s next evolve the composite model over a hundred time units. The last argument is optional here; see <code>?simulate</code> for the details.</p><pre><code class="language-julia hljs"># let the problem evolve
simulate(pharma_model, 100)

getagent(pharma_model, &quot;therapeutic_area1/dx&quot;)

getagent(pharma_model, &quot;therapeutic_area1/demand&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">agent <span class="sgr32"><span class="sgr1">demand </span></span>with uuid <span class="sgr32">215b46b2 </span>of type <span class="sgr32">DiffEqAgent </span>
   custom properties:
   <span class="sgr3">integrator: </span>
t: 100.0
u: 2.5764487191894188
   <span class="sgr3">observables: </span>demand (index: 1)
   <span class="sgr1">parent: </span><span class="sgr32">therapeutic_area1</span></code></pre><h2 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h2><p>We draw the statistics of a Discovery unit in Therapeutic Area 1:</p><pre><code class="language-julia hljs">draw(getagent(pharma_model, &quot;therapeutic_area1/dx&quot;))</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip300">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip300)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip301">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip300)" d="M169.121 1423.18 L2352.76 1423.18 L2352.76 47.2441 L169.121 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip302">
    <rect x="169" y="47" width="2185" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="230.922,1423.18 230.922,47.2441 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="751.133,1423.18 751.133,47.2441 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1271.34,1423.18 1271.34,47.2441 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1791.55,1423.18 1791.55,47.2441 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2311.76,1423.18 2311.76,47.2441 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,1423.18 2352.76,1423.18 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="230.922,1423.18 230.922,1404.28 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="751.133,1423.18 751.133,1404.28 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1271.34,1423.18 1271.34,1404.28 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1791.55,1423.18 1791.55,1404.28 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2311.76,1423.18 2311.76,1404.28 "/>
<path clip-path="url(#clip300)" d="M230.922 1454.1 Q227.311 1454.1 225.483 1457.66 Q223.677 1461.2 223.677 1468.33 Q223.677 1475.44 225.483 1479.01 Q227.311 1482.55 230.922 1482.55 Q234.557 1482.55 236.362 1479.01 Q238.191 1475.44 238.191 1468.33 Q238.191 1461.2 236.362 1457.66 Q234.557 1454.1 230.922 1454.1 M230.922 1450.39 Q236.732 1450.39 239.788 1455 Q242.867 1459.58 242.867 1468.33 Q242.867 1477.06 239.788 1481.67 Q236.732 1486.25 230.922 1486.25 Q225.112 1486.25 222.033 1481.67 Q218.978 1477.06 218.978 1468.33 Q218.978 1459.58 222.033 1455 Q225.112 1450.39 230.922 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M730.403 1481.64 L746.723 1481.64 L746.723 1485.58 L724.779 1485.58 L724.779 1481.64 Q727.441 1478.89 732.024 1474.26 Q736.63 1469.61 737.811 1468.27 Q740.056 1465.74 740.936 1464.01 Q741.839 1462.25 741.839 1460.56 Q741.839 1457.8 739.894 1456.07 Q737.973 1454.33 734.871 1454.33 Q732.672 1454.33 730.218 1455.09 Q727.788 1455.86 725.01 1457.41 L725.01 1452.69 Q727.834 1451.55 730.288 1450.97 Q732.741 1450.39 734.778 1450.39 Q740.149 1450.39 743.343 1453.08 Q746.538 1455.77 746.538 1460.26 Q746.538 1462.39 745.727 1464.31 Q744.94 1466.2 742.834 1468.8 Q742.255 1469.47 739.153 1472.69 Q736.052 1475.88 730.403 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M756.584 1451.02 L774.94 1451.02 L774.94 1454.96 L760.866 1454.96 L760.866 1463.43 Q761.885 1463.08 762.903 1462.92 Q763.922 1462.73 764.94 1462.73 Q770.727 1462.73 774.107 1465.9 Q777.487 1469.08 777.487 1474.49 Q777.487 1480.07 774.014 1483.17 Q770.542 1486.25 764.223 1486.25 Q762.047 1486.25 759.778 1485.88 Q757.533 1485.51 755.126 1484.77 L755.126 1480.07 Q757.209 1481.2 759.431 1481.76 Q761.653 1482.32 764.13 1482.32 Q768.135 1482.32 770.473 1480.21 Q772.811 1478.1 772.811 1474.49 Q772.811 1470.88 770.473 1468.77 Q768.135 1466.67 764.13 1466.67 Q762.255 1466.67 760.38 1467.08 Q758.528 1467.5 756.584 1468.38 L756.584 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M1246.04 1451.02 L1264.4 1451.02 L1264.4 1454.96 L1250.32 1454.96 L1250.32 1463.43 Q1251.34 1463.08 1252.36 1462.92 Q1253.38 1462.73 1254.4 1462.73 Q1260.19 1462.73 1263.57 1465.9 Q1266.94 1469.08 1266.94 1474.49 Q1266.94 1480.07 1263.47 1483.17 Q1260 1486.25 1253.68 1486.25 Q1251.5 1486.25 1249.24 1485.88 Q1246.99 1485.51 1244.58 1484.77 L1244.58 1480.07 Q1246.67 1481.2 1248.89 1481.76 Q1251.11 1482.32 1253.59 1482.32 Q1257.59 1482.32 1259.93 1480.21 Q1262.27 1478.1 1262.27 1474.49 Q1262.27 1470.88 1259.93 1468.77 Q1257.59 1466.67 1253.59 1466.67 Q1251.71 1466.67 1249.84 1467.08 Q1247.99 1467.5 1246.04 1468.38 L1246.04 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M1286.16 1454.1 Q1282.55 1454.1 1280.72 1457.66 Q1278.91 1461.2 1278.91 1468.33 Q1278.91 1475.44 1280.72 1479.01 Q1282.55 1482.55 1286.16 1482.55 Q1289.79 1482.55 1291.6 1479.01 Q1293.43 1475.44 1293.43 1468.33 Q1293.43 1461.2 1291.6 1457.66 Q1289.79 1454.1 1286.16 1454.1 M1286.16 1450.39 Q1291.97 1450.39 1295.02 1455 Q1298.1 1459.58 1298.1 1468.33 Q1298.1 1477.06 1295.02 1481.67 Q1291.97 1486.25 1286.16 1486.25 Q1280.35 1486.25 1277.27 1481.67 Q1274.21 1477.06 1274.21 1468.33 Q1274.21 1459.58 1277.27 1455 Q1280.35 1450.39 1286.16 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M1765.41 1451.02 L1787.63 1451.02 L1787.63 1453.01 L1775.08 1485.58 L1770.2 1485.58 L1782 1454.96 L1765.41 1454.96 L1765.41 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M1796.8 1451.02 L1815.15 1451.02 L1815.15 1454.96 L1801.08 1454.96 L1801.08 1463.43 Q1802.1 1463.08 1803.12 1462.92 Q1804.13 1462.73 1805.15 1462.73 Q1810.94 1462.73 1814.32 1465.9 Q1817.7 1469.08 1817.7 1474.49 Q1817.7 1480.07 1814.23 1483.17 Q1810.75 1486.25 1804.43 1486.25 Q1802.26 1486.25 1799.99 1485.88 Q1797.75 1485.51 1795.34 1484.77 L1795.34 1480.07 Q1797.42 1481.2 1799.64 1481.76 Q1801.87 1482.32 1804.34 1482.32 Q1808.35 1482.32 1810.68 1480.21 Q1813.02 1478.1 1813.02 1474.49 Q1813.02 1470.88 1810.68 1468.77 Q1808.35 1466.67 1804.34 1466.67 Q1802.47 1466.67 1800.59 1467.08 Q1798.74 1467.5 1796.8 1468.38 L1796.8 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M2271.37 1481.64 L2279.01 1481.64 L2279.01 1455.28 L2270.7 1456.95 L2270.7 1452.69 L2278.96 1451.02 L2283.64 1451.02 L2283.64 1481.64 L2291.28 1481.64 L2291.28 1485.58 L2271.37 1485.58 L2271.37 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M2310.72 1454.1 Q2307.11 1454.1 2305.28 1457.66 Q2303.48 1461.2 2303.48 1468.33 Q2303.48 1475.44 2305.28 1479.01 Q2307.11 1482.55 2310.72 1482.55 Q2314.36 1482.55 2316.16 1479.01 Q2317.99 1475.44 2317.99 1468.33 Q2317.99 1461.2 2316.16 1457.66 Q2314.36 1454.1 2310.72 1454.1 M2310.72 1450.39 Q2316.53 1450.39 2319.59 1455 Q2322.67 1459.58 2322.67 1468.33 Q2322.67 1477.06 2319.59 1481.67 Q2316.53 1486.25 2310.72 1486.25 Q2304.91 1486.25 2301.83 1481.67 Q2298.78 1477.06 2298.78 1468.33 Q2298.78 1459.58 2301.83 1455 Q2304.91 1450.39 2310.72 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M2340.88 1454.1 Q2337.27 1454.1 2335.44 1457.66 Q2333.64 1461.2 2333.64 1468.33 Q2333.64 1475.44 2335.44 1479.01 Q2337.27 1482.55 2340.88 1482.55 Q2344.52 1482.55 2346.32 1479.01 Q2348.15 1475.44 2348.15 1468.33 Q2348.15 1461.2 2346.32 1457.66 Q2344.52 1454.1 2340.88 1454.1 M2340.88 1450.39 Q2346.69 1450.39 2349.75 1455 Q2352.83 1459.58 2352.83 1468.33 Q2352.83 1477.06 2349.75 1481.67 Q2346.69 1486.25 2340.88 1486.25 Q2335.07 1486.25 2331.99 1481.67 Q2328.94 1477.06 2328.94 1468.33 Q2328.94 1459.58 2331.99 1455 Q2335.07 1450.39 2340.88 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M1260 1522.27 L1260 1532.4 L1272.06 1532.4 L1272.06 1536.95 L1260 1536.95 L1260 1556.3 Q1260 1560.66 1261.18 1561.9 Q1262.39 1563.14 1266.05 1563.14 L1272.06 1563.14 L1272.06 1568.04 L1266.05 1568.04 Q1259.27 1568.04 1256.69 1565.53 Q1254.11 1562.98 1254.11 1556.3 L1254.11 1536.95 L1249.81 1536.95 L1249.81 1532.4 L1254.11 1532.4 L1254.11 1522.27 L1260 1522.27 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,1384.24 2352.76,1384.24 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,1171.44 2352.76,1171.44 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,958.647 2352.76,958.647 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,745.852 2352.76,745.852 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,533.056 2352.76,533.056 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,320.261 2352.76,320.261 "/>
<polyline clip-path="url(#clip302)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="169.121,107.465 2352.76,107.465 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,1423.18 169.121,47.2441 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,1384.24 188.019,1384.24 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,1171.44 188.019,1171.44 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,958.647 188.019,958.647 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,745.852 188.019,745.852 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,533.056 188.019,533.056 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,320.261 188.019,320.261 "/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="169.121,107.465 188.019,107.465 "/>
<path clip-path="url(#clip300)" d="M121.177 1370.04 Q117.566 1370.04 115.737 1373.6 Q113.932 1377.14 113.932 1384.27 Q113.932 1391.38 115.737 1394.94 Q117.566 1398.49 121.177 1398.49 Q124.811 1398.49 126.617 1394.94 Q128.445 1391.38 128.445 1384.27 Q128.445 1377.14 126.617 1373.6 Q124.811 1370.04 121.177 1370.04 M121.177 1366.33 Q126.987 1366.33 130.043 1370.94 Q133.121 1375.52 133.121 1384.27 Q133.121 1393 130.043 1397.61 Q126.987 1402.19 121.177 1402.19 Q115.367 1402.19 112.288 1397.61 Q109.233 1393 109.233 1384.27 Q109.233 1375.52 112.288 1370.94 Q115.367 1366.33 121.177 1366.33 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M85.0429 1184.79 L101.362 1184.79 L101.362 1188.72 L79.4179 1188.72 L79.4179 1184.79 Q82.0799 1182.03 86.6632 1177.4 Q91.2697 1172.75 92.4502 1171.41 Q94.6956 1168.88 95.5752 1167.15 Q96.478 1165.39 96.478 1163.7 Q96.478 1160.95 94.5336 1159.21 Q92.6123 1157.47 89.5104 1157.47 Q87.3114 1157.47 84.8577 1158.24 Q82.4271 1159 79.6494 1160.55 L79.6494 1155.83 Q82.4734 1154.7 84.9271 1154.12 Q87.3808 1153.54 89.4178 1153.54 Q94.7882 1153.54 97.9826 1156.22 Q101.177 1158.91 101.177 1163.4 Q101.177 1165.53 100.367 1167.45 Q99.5798 1169.35 97.4734 1171.94 Q96.8947 1172.61 93.7928 1175.83 Q90.691 1179.02 85.0429 1184.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M121.177 1157.24 Q117.566 1157.24 115.737 1160.81 Q113.932 1164.35 113.932 1171.48 Q113.932 1178.58 115.737 1182.15 Q117.566 1185.69 121.177 1185.69 Q124.811 1185.69 126.617 1182.15 Q128.445 1178.58 128.445 1171.48 Q128.445 1164.35 126.617 1160.81 Q124.811 1157.24 121.177 1157.24 M121.177 1153.54 Q126.987 1153.54 130.043 1158.14 Q133.121 1162.73 133.121 1171.48 Q133.121 1180.2 130.043 1184.81 Q126.987 1189.39 121.177 1189.39 Q115.367 1189.39 112.288 1184.81 Q109.233 1180.2 109.233 1171.48 Q109.233 1162.73 112.288 1158.14 Q115.367 1153.54 121.177 1153.54 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M93.8623 945.441 L82.0568 963.89 L93.8623 963.89 L93.8623 945.441 M92.6354 941.367 L98.515 941.367 L98.515 963.89 L103.446 963.89 L103.446 967.779 L98.515 967.779 L98.515 975.927 L93.8623 975.927 L93.8623 967.779 L78.2605 967.779 L78.2605 963.265 L92.6354 941.367 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M121.177 944.446 Q117.566 944.446 115.737 948.011 Q113.932 951.552 113.932 958.682 Q113.932 965.788 115.737 969.353 Q117.566 972.895 121.177 972.895 Q124.811 972.895 126.617 969.353 Q128.445 965.788 128.445 958.682 Q128.445 951.552 126.617 948.011 Q124.811 944.446 121.177 944.446 M121.177 940.742 Q126.987 940.742 130.043 945.349 Q133.121 949.932 133.121 958.682 Q133.121 967.409 130.043 972.015 Q126.987 976.599 121.177 976.599 Q115.367 976.599 112.288 972.015 Q109.233 967.409 109.233 958.682 Q109.233 949.932 112.288 945.349 Q115.367 940.742 121.177 940.742 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M91.5938 743.988 Q88.4456 743.988 86.5938 746.141 Q84.7651 748.294 84.7651 752.044 Q84.7651 755.771 86.5938 757.947 Q88.4456 760.099 91.5938 760.099 Q94.7419 760.099 96.5706 757.947 Q98.4224 755.771 98.4224 752.044 Q98.4224 748.294 96.5706 746.141 Q94.7419 743.988 91.5938 743.988 M100.876 729.336 L100.876 733.595 Q99.1169 732.762 97.3113 732.322 Q95.5289 731.882 93.7697 731.882 Q89.1401 731.882 86.6864 735.007 Q84.2558 738.132 83.9086 744.451 Q85.2743 742.437 87.3345 741.373 Q89.3947 740.285 91.8715 740.285 Q97.0798 740.285 100.089 743.456 Q103.121 746.604 103.121 752.044 Q103.121 757.368 99.9733 760.585 Q96.8252 763.803 91.5938 763.803 Q85.5984 763.803 82.4271 759.22 Q79.2559 754.613 79.2559 745.886 Q79.2559 737.692 83.1447 732.831 Q87.0336 727.947 93.5845 727.947 Q95.3437 727.947 97.1261 728.294 Q98.9317 728.641 100.876 729.336 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M121.177 731.65 Q117.566 731.65 115.737 735.215 Q113.932 738.757 113.932 745.886 Q113.932 752.993 115.737 756.558 Q117.566 760.099 121.177 760.099 Q124.811 760.099 126.617 756.558 Q128.445 752.993 128.445 745.886 Q128.445 738.757 126.617 735.215 Q124.811 731.65 121.177 731.65 M121.177 727.947 Q126.987 727.947 130.043 732.553 Q133.121 737.137 133.121 745.886 Q133.121 754.613 130.043 759.22 Q126.987 763.803 121.177 763.803 Q115.367 763.803 112.288 759.22 Q109.233 754.613 109.233 745.886 Q109.233 737.137 112.288 732.553 Q115.367 727.947 121.177 727.947 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M91.0151 533.924 Q87.6817 533.924 85.7605 535.707 Q83.8623 537.489 83.8623 540.614 Q83.8623 543.739 85.7605 545.521 Q87.6817 547.304 91.0151 547.304 Q94.3484 547.304 96.2697 545.521 Q98.1909 543.716 98.1909 540.614 Q98.1909 537.489 96.2697 535.707 Q94.3715 533.924 91.0151 533.924 M86.3392 531.934 Q83.3299 531.193 81.6401 529.133 Q79.9735 527.072 79.9735 524.11 Q79.9735 519.966 82.9133 517.559 Q85.8762 515.151 91.0151 515.151 Q96.1771 515.151 99.1169 517.559 Q102.057 519.966 102.057 524.11 Q102.057 527.072 100.367 529.133 Q98.7002 531.193 95.7141 531.934 Q99.0937 532.721 100.969 535.012 Q102.867 537.304 102.867 540.614 Q102.867 545.637 99.7882 548.322 Q96.7326 551.008 91.0151 551.008 Q85.2975 551.008 82.2188 548.322 Q79.1633 545.637 79.1633 540.614 Q79.1633 537.304 81.0614 535.012 Q82.9595 532.721 86.3392 531.934 M84.6262 524.549 Q84.6262 527.235 86.2929 528.739 Q87.9827 530.244 91.0151 530.244 Q94.0243 530.244 95.7141 528.739 Q97.4271 527.235 97.4271 524.549 Q97.4271 521.864 95.7141 520.36 Q94.0243 518.855 91.0151 518.855 Q87.9827 518.855 86.2929 520.36 Q84.6262 521.864 84.6262 524.549 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M121.177 518.855 Q117.566 518.855 115.737 522.42 Q113.932 525.961 113.932 533.091 Q113.932 540.197 115.737 543.762 Q117.566 547.304 121.177 547.304 Q124.811 547.304 126.617 543.762 Q128.445 540.197 128.445 533.091 Q128.445 525.961 126.617 522.42 Q124.811 518.855 121.177 518.855 M121.177 515.151 Q126.987 515.151 130.043 519.758 Q133.121 524.341 133.121 533.091 Q133.121 541.818 130.043 546.424 Q126.987 551.008 121.177 551.008 Q115.367 551.008 112.288 546.424 Q109.233 541.818 109.233 533.091 Q109.233 524.341 112.288 519.758 Q115.367 515.151 121.177 515.151 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M51.6634 333.606 L59.3023 333.606 L59.3023 307.24 L50.9921 308.907 L50.9921 304.647 L59.256 302.981 L63.9319 302.981 L63.9319 333.606 L71.5707 333.606 L71.5707 337.541 L51.6634 337.541 L51.6634 333.606 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M91.0151 306.059 Q87.404 306.059 85.5753 309.624 Q83.7697 313.166 83.7697 320.295 Q83.7697 327.402 85.5753 330.967 Q87.404 334.508 91.0151 334.508 Q94.6493 334.508 96.4548 330.967 Q98.2835 327.402 98.2835 320.295 Q98.2835 313.166 96.4548 309.624 Q94.6493 306.059 91.0151 306.059 M91.0151 302.356 Q96.8252 302.356 99.8808 306.962 Q102.959 311.545 102.959 320.295 Q102.959 329.022 99.8808 333.629 Q96.8252 338.212 91.0151 338.212 Q85.2049 338.212 82.1262 333.629 Q79.0707 329.022 79.0707 320.295 Q79.0707 311.545 82.1262 306.962 Q85.2049 302.356 91.0151 302.356 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M121.177 306.059 Q117.566 306.059 115.737 309.624 Q113.932 313.166 113.932 320.295 Q113.932 327.402 115.737 330.967 Q117.566 334.508 121.177 334.508 Q124.811 334.508 126.617 330.967 Q128.445 327.402 128.445 320.295 Q128.445 313.166 126.617 309.624 Q124.811 306.059 121.177 306.059 M121.177 302.356 Q126.987 302.356 130.043 306.962 Q133.121 311.545 133.121 320.295 Q133.121 329.022 130.043 333.629 Q126.987 338.212 121.177 338.212 Q115.367 338.212 112.288 333.629 Q109.233 329.022 109.233 320.295 Q109.233 311.545 112.288 306.962 Q115.367 302.356 121.177 302.356 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M51.6634 120.81 L59.3023 120.81 L59.3023 94.4445 L50.9921 96.1111 L50.9921 91.8519 L59.256 90.1852 L63.9319 90.1852 L63.9319 120.81 L71.5707 120.81 L71.5707 124.745 L51.6634 124.745 L51.6634 120.81 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M85.0429 120.81 L101.362 120.81 L101.362 124.745 L79.4179 124.745 L79.4179 120.81 Q82.0799 118.055 86.6632 113.426 Q91.2697 108.773 92.4502 107.431 Q94.6956 104.907 95.5752 103.171 Q96.478 101.412 96.478 99.7222 Q96.478 96.9676 94.5336 95.2315 Q92.6123 93.4954 89.5104 93.4954 Q87.3114 93.4954 84.8577 94.2593 Q82.4271 95.0232 79.6494 96.5741 L79.6494 91.8519 Q82.4734 90.7176 84.9271 90.1389 Q87.3808 89.5602 89.4178 89.5602 Q94.7882 89.5602 97.9826 92.2454 Q101.177 94.9306 101.177 99.4213 Q101.177 101.551 100.367 103.472 Q99.5798 105.37 97.4734 107.963 Q96.8947 108.634 93.7928 111.852 Q90.691 115.046 85.0429 120.81 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M121.177 93.2639 Q117.566 93.2639 115.737 96.8287 Q113.932 100.37 113.932 107.5 Q113.932 114.606 115.737 118.171 Q117.566 121.713 121.177 121.713 Q124.811 121.713 126.617 118.171 Q128.445 114.606 128.445 107.5 Q128.445 100.37 126.617 96.8287 Q124.811 93.2639 121.177 93.2639 M121.177 89.5602 Q126.987 89.5602 130.043 94.1667 Q133.121 98.75 133.121 107.5 Q133.121 116.227 130.043 120.833 Q126.987 125.417 121.177 125.417 Q115.367 125.417 112.288 120.833 Q109.233 116.227 109.233 107.5 Q109.233 98.75 112.288 94.1667 Q115.367 89.5602 121.177 89.5602 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip302)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="230.922,1224.64 293.348,1182.08 355.773,1235.28 418.198,1235.28 480.623,1192.72 543.048,1224.64 605.474,1245.92 667.899,1160.8 730.324,1182.08 792.749,1139.52 855.175,1171.44 917.6,1160.8 980.025,1192.72 1042.45,1096.96 1104.88,1139.52 1167.3,1075.68 1229.73,1107.6 1292.15,1022.49 1354.58,1139.52 1417,990.567 1479.43,1107.6 1541.85,1075.68 1604.28,1192.72 1666.7,1118.24 1729.13,1022.49 1791.55,1139.52 1853.98,969.287 1916.4,937.368 1978.83,1096.96 2041.25,937.368 2103.68,979.927 2166.1,1033.13 2228.53,873.529 2290.95,905.448 "/>
<polyline clip-path="url(#clip302)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="230.922,1054.41 293.348,1043.77 355.773,1043.77 418.198,979.927 480.623,1033.13 543.048,1075.68 605.474,926.728 667.899,1139.52 730.324,969.287 792.749,1022.49 855.175,926.728 917.6,958.647 980.025,777.771 1042.45,884.169 1104.88,905.448 1167.3,788.411 1229.73,1022.49 1292.15,1001.21 1354.58,990.567 1417,830.97 1479.43,830.97 1541.85,788.411 1604.28,809.69 1666.7,777.771 1729.13,692.653 1791.55,660.734 1853.98,682.013 1916.4,777.771 1978.83,447.938 2041.25,405.379 2103.68,671.373 2166.1,533.056 2228.53,522.416 2290.95,809.69 "/>
<polyline clip-path="url(#clip302)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="230.922,1384.24 293.348,979.927 355.773,894.809 418.198,894.809 480.623,799.051 543.048,809.69 605.474,926.728 667.899,873.529 730.324,820.33 792.749,830.97 855.175,777.771 917.6,745.852 980.025,703.293 1042.45,618.174 1104.88,660.734 1167.3,543.696 1229.73,490.497 1292.15,777.771 1354.58,650.094 1417,756.492 1479.43,479.857 1541.85,469.218 1604.28,511.777 1666.7,628.814 1729.13,469.218 1791.55,426.658 1853.98,416.019 1916.4,203.223 1978.83,394.739 2041.25,171.304 2103.68,128.745 2166.1,86.1857 2228.53,160.664 2290.95,128.745 "/>
<path clip-path="url(#clip300)" d="M241.909 300.469 L661.776 300.469 L661.776 93.1086 L241.909 93.1086  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip300)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="241.909,300.469 661.776,300.469 661.776,93.1086 241.909,93.1086 241.909,300.469 "/>
<polyline clip-path="url(#clip300)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="266.172,144.949 411.747,144.949 "/>
<path clip-path="url(#clip300)" d="M454.436 137.067 L454.436 141.094 Q452.63 140.169 450.686 139.706 Q448.741 139.243 446.658 139.243 Q443.487 139.243 441.89 140.215 Q440.316 141.187 440.316 143.131 Q440.316 144.613 441.45 145.469 Q442.584 146.303 446.01 147.067 L447.468 147.391 Q452.005 148.363 453.903 150.145 Q455.825 151.905 455.825 155.076 Q455.825 158.687 452.954 160.793 Q450.107 162.9 445.107 162.9 Q443.024 162.9 440.755 162.483 Q438.51 162.09 436.01 161.28 L436.01 156.881 Q438.371 158.108 440.663 158.733 Q442.954 159.335 445.2 159.335 Q448.209 159.335 449.829 158.317 Q451.45 157.275 451.45 155.4 Q451.45 153.664 450.269 152.738 Q449.112 151.812 445.153 150.956 L443.672 150.608 Q439.714 149.775 437.954 148.062 Q436.195 146.326 436.195 143.317 Q436.195 139.659 438.788 137.669 Q441.38 135.678 446.149 135.678 Q448.51 135.678 450.593 136.025 Q452.677 136.372 454.436 137.067 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M482.792 141.28 Q484.389 138.409 486.612 137.044 Q488.834 135.678 491.843 135.678 Q495.894 135.678 498.093 138.525 Q500.292 141.349 500.292 146.581 L500.292 162.229 L496.01 162.229 L496.01 146.719 Q496.01 142.993 494.69 141.187 Q493.371 139.382 490.662 139.382 Q487.352 139.382 485.431 141.581 Q483.51 143.78 483.51 147.576 L483.51 162.229 L479.227 162.229 L479.227 146.719 Q479.227 142.969 477.908 141.187 Q476.588 139.382 473.834 139.382 Q470.57 139.382 468.649 141.604 Q466.727 143.803 466.727 147.576 L466.727 162.229 L462.445 162.229 L462.445 136.303 L466.727 136.303 L466.727 140.331 Q468.186 137.946 470.223 136.812 Q472.26 135.678 475.061 135.678 Q477.885 135.678 479.852 137.113 Q481.843 138.548 482.792 141.28 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M520.57 149.196 Q515.408 149.196 513.417 150.377 Q511.426 151.557 511.426 154.405 Q511.426 156.673 512.908 158.016 Q514.412 159.335 516.982 159.335 Q520.523 159.335 522.653 156.835 Q524.806 154.312 524.806 150.145 L524.806 149.196 L520.57 149.196 M529.065 147.437 L529.065 162.229 L524.806 162.229 L524.806 158.293 Q523.347 160.655 521.172 161.789 Q518.996 162.9 515.848 162.9 Q511.866 162.9 509.505 160.678 Q507.167 158.432 507.167 154.682 Q507.167 150.307 510.084 148.085 Q513.023 145.863 518.834 145.863 L524.806 145.863 L524.806 145.446 Q524.806 142.507 522.861 140.909 Q520.94 139.289 517.445 139.289 Q515.223 139.289 513.116 139.821 Q511.01 140.354 509.065 141.419 L509.065 137.483 Q511.403 136.581 513.602 136.141 Q515.801 135.678 517.885 135.678 Q523.51 135.678 526.287 138.594 Q529.065 141.511 529.065 147.437 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M537.838 126.21 L542.097 126.21 L542.097 162.229 L537.838 162.229 L537.838 126.21 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M551.009 126.21 L555.269 126.21 L555.269 162.229 L551.009 162.229 L551.009 126.21 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip300)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="266.172,196.789 411.747,196.789 "/>
<path clip-path="url(#clip300)" d="M436.01 178.05 L440.269 178.05 L440.269 214.069 L436.01 214.069 L436.01 178.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M460.964 201.036 Q455.802 201.036 453.811 202.217 Q451.82 203.397 451.82 206.245 Q451.82 208.513 453.302 209.856 Q454.806 211.175 457.376 211.175 Q460.917 211.175 463.047 208.675 Q465.2 206.152 465.2 201.985 L465.2 201.036 L460.964 201.036 M469.459 199.277 L469.459 214.069 L465.2 214.069 L465.2 210.133 Q463.741 212.495 461.565 213.629 Q459.389 214.74 456.241 214.74 Q452.26 214.74 449.899 212.518 Q447.561 210.272 447.561 206.522 Q447.561 202.147 450.478 199.925 Q453.417 197.703 459.227 197.703 L465.2 197.703 L465.2 197.286 Q465.2 194.347 463.255 192.749 Q461.334 191.129 457.839 191.129 Q455.616 191.129 453.51 191.661 Q451.403 192.194 449.459 193.259 L449.459 189.323 Q451.797 188.421 453.996 187.981 Q456.195 187.518 458.278 187.518 Q463.903 187.518 466.681 190.434 Q469.459 193.351 469.459 199.277 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M493.255 192.124 Q492.537 191.708 491.681 191.522 Q490.848 191.314 489.829 191.314 Q486.218 191.314 484.274 193.675 Q482.352 196.013 482.352 200.411 L482.352 214.069 L478.07 214.069 L478.07 188.143 L482.352 188.143 L482.352 192.171 Q483.695 189.809 485.848 188.675 Q488 187.518 491.079 187.518 Q491.519 187.518 492.051 187.587 Q492.584 187.634 493.232 187.749 L493.255 192.124 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M513.949 200.805 Q513.949 196.175 512.028 193.629 Q510.13 191.083 506.681 191.083 Q503.255 191.083 501.334 193.629 Q499.436 196.175 499.436 200.805 Q499.436 205.411 501.334 207.958 Q503.255 210.504 506.681 210.504 Q510.13 210.504 512.028 207.958 Q513.949 205.411 513.949 200.805 M518.209 210.851 Q518.209 217.471 515.269 220.689 Q512.329 223.93 506.264 223.93 Q504.019 223.93 502.028 223.582 Q500.037 223.258 498.162 222.564 L498.162 218.42 Q500.037 219.439 501.866 219.925 Q503.695 220.411 505.593 220.411 Q509.783 220.411 511.866 218.212 Q513.949 216.036 513.949 211.615 L513.949 209.508 Q512.63 211.8 510.57 212.934 Q508.51 214.069 505.639 214.069 Q500.871 214.069 497.954 210.434 Q495.037 206.8 495.037 200.805 Q495.037 194.786 497.954 191.152 Q500.871 187.518 505.639 187.518 Q508.51 187.518 510.57 188.652 Q512.63 189.786 513.949 192.078 L513.949 188.143 L518.209 188.143 L518.209 210.851 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M549.158 200.041 L549.158 202.124 L529.574 202.124 Q529.852 206.522 532.213 208.837 Q534.597 211.129 538.834 211.129 Q541.287 211.129 543.579 210.527 Q545.894 209.925 548.162 208.721 L548.162 212.749 Q545.871 213.721 543.463 214.231 Q541.056 214.74 538.579 214.74 Q532.375 214.74 528.741 211.129 Q525.13 207.518 525.13 201.36 Q525.13 194.995 528.556 191.268 Q532.005 187.518 537.838 187.518 Q543.07 187.518 546.102 190.897 Q549.158 194.254 549.158 200.041 M544.898 198.791 Q544.852 195.296 542.931 193.212 Q541.033 191.129 537.884 191.129 Q534.32 191.129 532.167 193.143 Q530.037 195.157 529.713 198.814 L544.898 198.791 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip300)" style="stroke:#3da44d; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="266.172,248.629 411.747,248.629 "/>
<path clip-path="url(#clip300)" d="M451.195 243.964 Q450.478 243.548 449.621 243.362 Q448.788 243.154 447.769 243.154 Q444.158 243.154 442.214 245.515 Q440.292 247.853 440.292 252.251 L440.292 265.909 L436.01 265.909 L436.01 239.983 L440.292 239.983 L440.292 244.011 Q441.635 241.649 443.788 240.515 Q445.94 239.358 449.019 239.358 Q449.459 239.358 449.991 239.427 Q450.524 239.474 451.172 239.589 L451.195 243.964 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M476.797 251.881 L476.797 253.964 L457.214 253.964 Q457.491 258.362 459.852 260.677 Q462.237 262.969 466.473 262.969 Q468.926 262.969 471.218 262.367 Q473.533 261.765 475.801 260.561 L475.801 264.589 Q473.51 265.561 471.102 266.071 Q468.695 266.58 466.218 266.58 Q460.014 266.58 456.38 262.969 Q452.769 259.358 452.769 253.2 Q452.769 246.835 456.195 243.108 Q459.644 239.358 465.477 239.358 Q470.709 239.358 473.741 242.737 Q476.797 246.094 476.797 251.881 M472.538 250.631 Q472.491 247.136 470.57 245.052 Q468.672 242.969 465.524 242.969 Q461.959 242.969 459.806 244.983 Q457.677 246.997 457.352 250.654 L472.538 250.631 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M503.973 244.96 Q505.57 242.089 507.792 240.724 Q510.014 239.358 513.023 239.358 Q517.074 239.358 519.273 242.205 Q521.472 245.029 521.472 250.261 L521.472 265.909 L517.19 265.909 L517.19 250.399 Q517.19 246.673 515.871 244.867 Q514.551 243.062 511.843 243.062 Q508.533 243.062 506.611 245.261 Q504.69 247.46 504.69 251.256 L504.69 265.909 L500.408 265.909 L500.408 250.399 Q500.408 246.649 499.088 244.867 Q497.769 243.062 495.014 243.062 Q491.75 243.062 489.829 245.284 Q487.908 247.483 487.908 251.256 L487.908 265.909 L483.625 265.909 L483.625 239.983 L487.908 239.983 L487.908 244.011 Q489.366 241.626 491.403 240.492 Q493.44 239.358 496.241 239.358 Q499.065 239.358 501.033 240.793 Q503.024 242.228 503.973 244.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M540.014 242.969 Q536.588 242.969 534.597 245.654 Q532.607 248.316 532.607 252.969 Q532.607 257.622 534.574 260.307 Q536.565 262.969 540.014 262.969 Q543.417 262.969 545.408 260.284 Q547.398 257.598 547.398 252.969 Q547.398 248.362 545.408 245.677 Q543.417 242.969 540.014 242.969 M540.014 239.358 Q545.57 239.358 548.741 242.969 Q551.912 246.58 551.912 252.969 Q551.912 259.335 548.741 262.969 Q545.57 266.58 540.014 266.58 Q534.435 266.58 531.264 262.969 Q528.116 259.335 528.116 252.969 Q528.116 246.58 531.264 242.969 Q534.435 239.358 540.014 239.358 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M555.917 239.983 L560.431 239.983 L568.532 261.742 L576.634 239.983 L581.148 239.983 L571.426 265.909 L565.639 265.909 L555.917 239.983 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M609.204 251.881 L609.204 253.964 L589.62 253.964 Q589.898 258.362 592.259 260.677 Q594.643 262.969 598.879 262.969 Q601.333 262.969 603.625 262.367 Q605.94 261.765 608.208 260.561 L608.208 264.589 Q605.916 265.561 603.509 266.071 Q601.102 266.58 598.625 266.58 Q592.421 266.58 588.787 262.969 Q585.176 259.358 585.176 253.2 Q585.176 246.835 588.602 243.108 Q592.051 239.358 597.884 239.358 Q603.116 239.358 606.148 242.737 Q609.204 246.094 609.204 251.881 M604.944 250.631 Q604.898 247.136 602.977 245.052 Q601.079 242.969 597.93 242.969 Q594.366 242.969 592.213 244.983 Q590.083 246.997 589.759 250.654 L604.944 250.631 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip300)" d="M633.254 243.918 L633.254 229.89 L637.514 229.89 L637.514 265.909 L633.254 265.909 L633.254 262.02 Q631.912 264.335 629.852 265.469 Q627.815 266.58 624.944 266.58 Q620.245 266.58 617.282 262.83 Q614.342 259.08 614.342 252.969 Q614.342 246.858 617.282 243.108 Q620.245 239.358 624.944 239.358 Q627.815 239.358 629.852 240.492 Q631.912 241.603 633.254 243.918 M618.74 252.969 Q618.74 257.668 620.662 260.353 Q622.606 263.015 625.986 263.015 Q629.365 263.015 631.31 260.353 Q633.254 257.668 633.254 252.969 Q633.254 248.27 631.31 245.608 Q629.365 242.923 625.986 242.923 Q622.606 242.923 620.662 245.608 Q618.74 248.27 618.74 252.969 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /></svg>
<h2 id="Queries"><a class="docs-heading-anchor" href="#Queries">Queries</a><a id="Queries-1"></a><a class="docs-heading-anchor-permalink" href="#Queries" title="Permalink"></a></h2><p>Let&#39;s now query the simulated system.</p><p>To find out which molecules were discovered after time <code>t=10</code> and removed from the track before time <code>t=30</code>, write</p><pre><code class="language-julia hljs">pharma_model |&gt; @filter(_.birth_time &gt; 10 &amp;&amp; _.time_removed &lt; 30)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">624-element Vector{AbstractAlgebraicAgent}:
 Main.LargeMolecule{name=2kxMr, uuid=0e128e12, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=Hl2Fl, uuid=e9992fe5, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=vnnSg, uuid=044c9d9f, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=BUnv8, uuid=981e7c95, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=vJNWL, uuid=99e3fdc9, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=iXkpJ, uuid=207fc5a9, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=FKk7g, uuid=35f42dba, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=9lHx3, uuid=0656fa65, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=NXy2R, uuid=046c23ec, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=42qh0, uuid=ff12fa68, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 ⋮
 Main.LargeMolecule{name=xuPKt, uuid=11030d0b, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=aZ2Dt, uuid=a921d289, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=pzkPM, uuid=dea9ed20, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=S2p3S, uuid=0ea69e45, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=4q1OL, uuid=b4db09c6, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=depLz, uuid=33e0b572, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=PkdVI, uuid=16af57e5, parent=FreeAgent{name=removed-molecules, uuid=5797653b, parent=FreeAgent{name=therapeutic_area1, uuid=3c3eb0f1, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.SmallMolecule{name=wy80X, uuid=4134a92c, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}
 Main.LargeMolecule{name=9ksOI, uuid=d1af466c, parent=FreeAgent{name=removed-molecules, uuid=f55d8d45, parent=FreeAgent{name=therapeutic_area2, uuid=702c9c37, parent=FreeAgent{name=pharma_model, uuid=37d2515f, parent=nothing}}}}</code></pre><p>Equivalently, we could make use of f(ilter)-strings, see <a href="../../index.html#AlgebraicAgents.@f_str"><code>@f_str</code></a>, and write</p><pre><code class="language-julia hljs">from = 10; to = 30
pharma_model |&gt; @filter(f&quot;_.birth_time &gt; $from &amp;&amp; _.time_removed &lt; $to&quot;);</code></pre><p>Let&#39;s investigate the average life time:</p><pre><code class="language-julia hljs"># get molecules already removed from the system
removed_molecules = pharma_model |&gt; @filter(f&quot;_.time_removed &lt; Inf&quot;)
# calculate `time_removed - birth_time`
# we iterate over `removed_molecules`, and apply the (named) transform function on each agent
# a given agent is referenced to as `_`
life_times = removed_molecules |&gt; @transform(area = getname(getagent(_, &quot;../..&quot;)), time=(_.time_removed - _.birth_time))

using Statistics: mean
avg_life_time = mean(x -&gt; x.time, life_times)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1.5197855029585798</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../agents/agents.html">« Agents.jl Integration</a><a class="docs-footer-nextpage" href="../sciml/sciml.html">SciML Integration »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 22 February 2024 16:07">Thursday 22 February 2024</span>. Using Julia version 1.10.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
